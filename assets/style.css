:root{
  --bg:#f6f8fc; --shell:#fff; --card:#f9fbff;
  --text:#1f2937; --muted:#6b7280;
  --brand:#10b39f; --brand-2:#12d3b7;
  --border:#e5e7eb; --shadow:0 10px 30px rgba(2,8,23,.06);
}

/* ===== Reset & base ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; display:flex; flex-direction:column; min-height:100vh;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text); background:var(--bg);
}
main{flex:1}

/* ===== Header ===== */
.shell{
  position:sticky; top:0; z-index:10;
  display:flex; gap:16px; align-items:center; justify-content:space-between;
  padding:14px 20px; background:var(--shell); box-shadow:var(--shadow);
}
.brand{display:flex; gap:12px; align-items:center}
.brand-amip{width:110px; height:auto; object-fit:contain}
.brand-title h1{margin:0; font-size:26px}
.header-actions { display:flex; align-items:center; }

/* ===== Botón Agregar ===== */
.add-btn{
  padding:10px 14px; border:0; border-radius:12px;
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff;
  font-weight:700; cursor:pointer;
  box-shadow:0 8px 18px rgba(16,179,159,.22);
}
.add-btn:hover{ filter:saturate(1.05) }
.add-btn:active{ transform:translateY(1px) }

/* ===== Hero mini ===== */
.hero-mini{
  max-width:1100px; margin:12px auto 0; padding:8px 16px 0;
  display:flex; gap:14px; align-items:center; color:#0e3c37;
}
.hero-icon{
  width:48px; height:48px; flex:0 0 48px;
  object-fit:contain; border-radius:10px; background:#fff; padding:6px;
  box-shadow:0 6px 16px rgba(2,8,23,.06);
}
.hero-title{margin:0 0 2px; font-size:22px}
.hero-copy{margin:2px 0 0; color:#3d6862; font-size:13px}

/* ===== Buscador ===== */
.search{display:flex; gap:8px}
.search input{
  padding:10px 12px; border:1px solid var(--border); border-radius:12px; min-width:280px;
  background:#fbfdff; transition:box-shadow .2s ease;
}
.search input:focus{outline:0; box-shadow:0 0 0 3px rgba(16,179,159,.15)}
.search button{
  padding:10px 14px; border:0; border-radius:12px;
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff; cursor:pointer; font-weight:600;
  transition:transform .06s ease, box-shadow .2s ease;
}
.search button:hover{box-shadow:0 8px 18px rgba(16,179,159,.26)}
.search button:active{transform:scale(.98)}

/* Buscador debajo del hero */
.search-under{
  max-width:860px;
  margin:8px auto 8px;
  padding:0 16px;
  display:flex; gap:8px; justify-content:center;
}
.search-under input{
  flex:1; max-width:640px; min-width:260px;
}

/* ===== Contenido centrado ===== */
.container{max-width:1100px; margin:8px auto 24px; padding:0 16px}
.container .tabs,
.container section{max-width:860px; margin-left:auto; margin-right:auto}

/* ===== Tabs ===== */
.tabs{
  display:grid; grid-template-columns:repeat(4,1fr); gap:18px; margin:12px 0 22px;
}
.tab{
  padding:16px 24px; border:1px solid var(--border); background:var(--shell);
  border-radius:18px; cursor:pointer; font-weight:700; color:#0f4b45;
  box-shadow:0 6px 18px rgba(2,8,23,.06);
  transition:border-color .2s ease, box-shadow .2s ease, transform .08s ease;
}
.tab:hover{box-shadow:0 10px 24px rgba(2,8,23,.08)}
.tab:active{transform:translateY(1px)}
.tab.active{border-color:var(--brand); box-shadow:0 10px 26px rgba(16,179,159,.18)}

/* ===== Lista de trámites ===== */
.tramites{list-style:none; padding:0; margin:0; display:grid; gap:14px}
.item{
  display:grid; grid-template-columns:1fr auto; gap:12px; align-items:center;
  padding:18px 20px; background:#fff; border:1px solid var(--border); border-radius:16px;
  box-shadow:0 10px 26px rgba(2,8,23,.06); animation:fadeUp .25s ease both;
}
@keyframes fadeUp{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}
.item h3{margin:0; font-size:18px; font-weight:700}
.actions{display:flex; align-items:center; justify-content:flex-end}

/* ===== Botones ===== */
.btn{
  border:0; padding:12px 20px; border-radius:9999px;
  background:var(--card); color:#0d3a35; font-weight:700; font-size:15px;
  text-decoration:none; cursor:pointer;
  transition:transform .08s ease, box-shadow .2s ease, filter .2s ease;
}
.btn:hover{box-shadow:0 8px 18px rgba(2,8,23,.08)}
.btn:active{transform:translateY(1px)}
.btn.primary{
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff;
  box-shadow:0 14px 30px rgba(16,179,159,.28);
}
.btn.primary:hover{filter:saturate(1.05)}
.btn.primary:active{transform:translateY(1px) scale(.99)}
.btn.secondary{
  background:#fff; border:1px solid var(--brand); color:var(--brand);
}
.btn.secondary:hover{ background:rgba(16,179,159,0.08); }
.btn.danger{
  background:#fff; border:1px solid #ef4444; color:#ef4444;
}
.btn.danger:hover{ background:rgba(239,68,68,.08) }

/* Icon buttons */
.icon-btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; border:1px solid var(--border); border-radius:12px;
  background:#fff; cursor:pointer; font-weight:700; color:#0d3a35;
  transition:box-shadow .2s ease, transform .06s ease;
}
.icon-btn:hover{ box-shadow:0 8px 18px rgba(2,8,23,.08) }
.icon-btn:active{ transform:translateY(1px) }
.icon-btn .ic{ width:18px; height:18px; fill:currentColor }
.icon-btn.danger{ border-color:#ef4444; color:#ef4444; background:#fff; }
.icon-btn.danger:hover{ background:rgba(239,68,68,.08) }

/* ===== Mensajes ===== */
.muted{color:var(--muted); text-align:center; margin:26px 0 10px; font-size:15px}

/* ===== Footer ===== */
.footer{
  margin-top:auto; padding:16px 20px; text-align:center; color:var(--muted);
  background:transparent;
}

/* ===== Modal ===== */
.modal{
  position: fixed; inset: 0;
  display: none; justify-content: center; align-items: center;
  padding: 16px;
}
.modal.show{ display:flex; }
.modal-backdrop{
  position:absolute; inset:0;
  background:rgba(15,23,42,.28);
  backdrop-filter:saturate(140%) blur(6px);
  animation:fadeIn .18s ease both;
}
@keyframes fadeIn{ from{opacity:0} to{opacity:1} }
.modal-dialog{
  position:relative; z-index:1;
  /* ancho base para el resto de modales */
  width:min(680px, 96vw);
  max-height: calc(100vh - 32px);
  overflow:auto;
  padding:18px;
  background:#fff; border:1px solid var(--border);
  border-radius:18px; box-shadow:0 24px 60px rgba(2,8,23,.26);
  animation:popIn .22s cubic-bezier(.2,.7,.2,1) both;
}
@keyframes popIn{ from{opacity:0; transform:translateY(8px) scale(.98)} to{opacity:1; transform:none} }
.modal-close{
  position:absolute; top:10px; right:12px;
  width:36px; height:36px; border-radius:999px; border:1px solid var(--border);
  background:#fff; cursor:pointer; font-size:20px; line-height:34px;
  color:#0f4b45; box-shadow:0 6px 16px rgba(2,8,23,.08);
}
.modal-close:hover{ background:#f6fbfa }
.modal-header{ padding:6px 6px 2px }
.modal-header h3{ margin:0 0 2px; font-size:20px }
.modal-sub{ margin:0; color:var(--muted); font-size:13px }

/* === Acciones: base === */
.modal-actions{
  margin-top:14px;
  display:flex;
  gap:10px;
  flex-wrap: nowrap;           /* base */
  align-items:center;
  justify-content:flex-start;
}
.modal-actions > *{ flex:0 0 auto; }
.modal-actions .btn,
.modal-actions .icon-btn{ white-space:nowrap; }
@media (max-width:720px){
  .modal-actions{
    overflow-x:auto;
    -webkit-overflow-scrolling:touch;
    padding-bottom:4px;
  }
}
.modal-actions .btn{ padding:12px 16px; font-size:15px }

/* ===== Formulario (Agregar / Editar) ===== */
.form{ display:grid; gap:12px; margin-top:10px }
.field{ display:grid; gap:6px }
.field label{ font-weight:600; font-size:14px; color:#0f4b45 }
.field input, .field select, .codearea{
  padding:10px 12px; border:1px solid var(--border); border-radius:12px;
  background:#fbfdff; font-size:15px;
}
.field input:focus, .field select:focus, .codearea:focus{
  outline:0; box-shadow:0 0 0 3px rgba(16,179,159,.15)
}
.codearea{
  min-height: 48vh;
  max-height: 70vh;
  resize: vertical;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size:13px;
  white-space: pre;
  overflow: auto;
}

/* ===== Animaciones de página ===== */
body.leaving{ animation: pageLeave .22s ease forwards; }
@keyframes pageLeave{ to{ opacity:0; transform:translateY(6px); filter:blur(1px); } }
.page-enter{ animation: pageEnter .28s ease both; }
@keyframes pageEnter{ from{ opacity:0; transform:translateY(8px); } to{ opacity:1; transform:none; } }

/* ===== Responsive ===== */
@media (max-width:900px){
  .container .tabs, .container section{max-width:100%}
}
@media (max-width:720px){
  .tabs{grid-template-columns:1fr 1fr}
  .brand-amip{width:90px}
  .brand-title h1{font-size:22px}
  .hero-icon{width:40px; height:40px}
  .item{grid-template-columns:1fr; gap:10px}
  .actions{justify-content:flex-start}
}

/* feedback de copia */
.icon-btn.success{ border-color: var(--brand); color: var(--brand); background:#f3fffc; }

/* ===================================================================== */
/* ============  OVERRIDES SOLO PARA EL MODAL DE OPCIONES  ============= */
/* Más ancho, sin scroll horizontal y botones en 1–2 filas             */
#opModal .modal-dialog{
  width: clamp(820px, 92vw, 1120px);   /* crece, pero respeta viewport */
  max-width: 1120px;
  max-height: calc(100vh - 48px);
  overflow-y: auto;
  overflow-x: hidden;                  /* elimina barra horizontal */
}

#opModal .modal-actions{
  flex-wrap: wrap;                     /* permite segunda fila si hace falta */
  gap: 12px;
  justify-content: flex-start;
  overflow: visible;                   /* nada de scroll en desktop/móvil */
}

@media (max-width:720px){
  #opModal .modal-actions{
    overflow: visible;
    padding-bottom: 0;
  }
}
/* ===================================================================== */
